<!DOCTYPE html> 
<html> 
  <head> 
    <title>San FranWalker</title> 
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a3/jquery.mobile-1.0a3.min.css" />
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.5.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/mobile/1.0a3/jquery.mobile-1.0a3.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script type="text/javascript" src="jquery.ui.map.js"></script>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  </head> 
  <body> 
    <div id="gmap-2" data-role="page"> 
      <script type="text/javascript">
        $('#gmap-2').live("pageshow", function() {
          $('#map_canvas').gmap({
            center: new google.maps.LatLng(37.78469, -122.40216),
            zoom: 15,
            callback: function(map) {
              if(navigator.geolocation) {
                navigator.geolocation.watchPosition(function(pos) {
                  points.append(pos.coords);
                }, null, { enableHighAccuracy: true, timeout: 15000, maximumAge: 15000 });
              }
            }
          });
        });
        $('#gmap-2').live("pagehide", function() {
          if(navigator.geolocation) {
            navigator.geolocation.clearWatch(watch);
          }
        });
        $('#gmap-2').live("pagecreate", function() {
          var watch;
          var points = [];
        });
      </script>     
      <div data-role="header" data-position="fixed">
        <div data-role="controlgroup" data-type="horizontal">
          <button>Record</button>
          <button>Save Path</button>
        </div>
      </div>
      <div data-role="content">
        <div class="ui-bar-c ui-corner-all ui-shadow" style="padding:1em;">
          <div id="map_canvas" style="height:300px;"></div>
        </div>
      </div> 

    </div> 
  </body>
</html>
