<!DOCTYPE html> 
<html> 
  <head> 
    <title>San FranWalker</title> 
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a3/jquery.mobile-1.0a3.min.css" />
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.5.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/mobile/1.0a3/jquery.mobile-1.0a3.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script type="text/javascript" src="jquery.ui.map.js"></script>
  </head> 
  <body> 
    <div id="gmap-2" data-role="page"> 
      <script type="text/javascript">
        $('#gmap-2').live("pageshow", function() {
          $('#map_canvas').gmap({'center': getLatLng(), 'callback': function(map) {
            if(navigator.geolocation) {
              watch = navigator.geolocation.watchPosition(function(position) {
                $('#map_canvas').gmap({'center': new google.maps.LatLng(position.coords.latitude, position.coords.longitude)});
              }, null, {'enableHighAccuracy': true});
            }
           }
          });
          function getLatLng() {
            return new google.maps.LatLng(59.3426606750, 18.0736160278);
          }
        });
        $('#gmap-2').live("pagehide", function() {
          if(navigator.geolocation) {
            navigator.geolocation.clearWatch(watch);
          }
        });
        $('#gmap-2').live("pagecreate", function() {
          var watch;
        });
      </script>     
      <div data-role="content">
        <div class="ui-bar-c ui-corner-all ui-shadow" style="padding:1em;">
          <div id="map_canvas" style="height:300px;"></div>
        </div>
      </div> 
    </div> 
  </body>
</html>
